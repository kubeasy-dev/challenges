title: Bad Config
description: |
  The configuration was updated hours ago, but nothing changed.
  The pods are living in the past.
theme: pods-containers
difficulty: easy
estimated_time: 15
starter_friendly: true
initial_situation: |
  A web application is deployed with its configuration in a ConfigMap.
  The team updated the ConfigMap to enable a new feature flag.
  Checking the ConfigMap shows the new values are definitely there.
  But the running application still uses the old configuration - as if the change never happened.
objective: |
  Make sure configuration changes actually reach the running application.
  Future config updates shouldn't silently fail like this.

validations:
  - key: pod-ready-check
    title: "Pod Ready"
    description: "The web-app pod must be running and in Ready state"
    order: 1
    type: status
    spec:
      target:
        kind: Pod
        labelSelector:
          app: web-app
      conditions:
        - type: Ready
          status: "True"

  - key: pod-logs-check
    title: "Configuration Loaded"
    description: "The application must log 'Configuration loaded successfully!' after reading the ConfigMap"
    order: 2
    type: log
    spec:
      target:
        kind: Pod
        labelSelector:
          app: web-app
      expectedStrings:
        - "Configuration loaded successfully!"
      sinceSeconds: 120
